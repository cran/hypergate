<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Etienne Becht" />

<meta name="date" content="2024-01-16" />

<title>Hypergate</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Hypergate</h1>
<h4 class="author">Etienne Becht</h4>
<h4 class="date">2024-01-16</h4>



<p>This Vignette will walk you through the usage of the Hypergate R package.</p>
<div id="package-installation" class="section level2">
<h2>Package installation</h2>
<p>Installing dependencies:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">&quot;sp&quot;</span>,<span class="st">&quot;polyclip&quot;</span>,<span class="st">&quot;rgeos&quot;</span>))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="kw">source</span>(<span class="st">&quot;https://bioconductor.org/biocLite.R&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="kw">biocLite</span>(<span class="st">&quot;flowCore&quot;</span>)</span></code></pre></div>
<p>Installing the package from github:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="kw">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="kw">library</span>(devtools)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="kw">install_github</span>(<span class="dt">repo=</span><span class="st">&quot;ebecht/hypergate&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="kw">library</span>(hypergate)</span></code></pre></div>
</div>
<div id="data-loading" class="section level2">
<h2>Data loading</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="kw">data</span>(Samusik_<span class="dv">01</span>_subset,<span class="dt">package=</span><span class="st">&quot;hypergate&quot;</span>)</span></code></pre></div>
<p>This loads 2000 datapoints randomly sampled from the <em>Samusik_01</em> dataset (available from FlowRepository accession number FR-FCM-ZZPH). This object is a list which includes as elements</p>
<ol style="list-style-type: decimal">
<li><p><em>fs_src</em> a flowSet with 1 flowFrame corresponding to the data subset</p></li>
<li><p><em>xp_src</em> a matrix corresponding to the expression of the data subset. Rownames correspond to event numbers in the unsampled dataset. Colnames correspond to protein targets (or other information e.g. events’ manually-annotated labels)</p></li>
<li><p><em>labels</em> numeric vector encoding manually-annontated labels, with the value -1 for ungated events. The text labels for the gated populations are availble from FlowRepostiry</p></li>
<li><p><em>regular_channels</em> A subset of colnames(Samusik_01_subset$xp_src) that corresponds to protein targets</p></li>
<li><p><em>tsne</em> A 2D-tSNE ran on the whole dataset and subsampled to 2000 events</p></li>
</ol>
</div>
<div id="specifying-the-cell-subset-of-interest" class="section level2">
<h2>Specifying the cell subset of interest</h2>
<p>Hypergate requires in particular as its arguments</p>
<ol style="list-style-type: decimal">
<li><p>an expression matrix (which we have as <em>Samusik_01_subset$xp_src</em>)</p></li>
<li><p>a vector specifying which events to attempt to gate on. This section discusses ways to achieve this point</p></li>
</ol>
<div id="selection-from-low-dimensional-plot" class="section level4">
<h4>Selection from low-dimensional plot</h4>
<p>We included in the package a function with a rudimentary (hopefully sufficient) interface that allows for the selection of a cell subset of interest from a 2D biplot by drawing a polygon around it using the mouse. Since this function is interactive we cannot execute it in this Vignette but an example call would be as such (feel free to try it):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a>g=<span class="kw">gate_from_biplot</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>    Samusik_<span class="dv">01</span>_subset<span class="op">$</span>tsne,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>    <span class="st">&quot;tSNE1&quot;</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>    <span class="st">&quot;tSNE2&quot;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>)       </span></code></pre></div>
<p>For this tutorial we define manually the polygon instead</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>x=<span class="kw">c</span>(<span class="fl">12.54</span>,<span class="fl">8.08</span>,<span class="fl">7.12</span>,<span class="fl">12.12</span>,<span class="fl">17.32</span>,<span class="fl">20.62</span>,<span class="fl">21.04</span>,<span class="fl">20.83</span>,<span class="fl">18.07</span>,<span class="fl">15.20</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>y=<span class="kw">c</span>(<span class="op">-</span><span class="fl">10.61</span>,<span class="op">-</span><span class="fl">14.76</span>,<span class="op">-</span><span class="fl">18.55</span>,<span class="op">-</span><span class="fl">20.33</span>,<span class="op">-</span><span class="fl">21.16</span>,<span class="op">-</span><span class="fl">19.74</span>,<span class="op">-</span><span class="fl">14.40</span>,<span class="op">-</span><span class="fl">11.08</span>,<span class="op">-</span><span class="fl">10.02</span>,<span class="op">-</span><span class="fl">9.42</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a>pol=<span class="kw">list</span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a><span class="kw">library</span>(<span class="st">&quot;sp&quot;</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a>gate_vector=sp<span class="op">::</span><span class="kw">point.in.polygon</span>(Samusik_<span class="dv">01</span>_subset<span class="op">$</span>tsne[,<span class="dv">1</span>],Samusik_<span class="dv">01</span>_subset<span class="op">$</span>tsne[,<span class="dv">2</span>],pol<span class="op">$</span>x,pol<span class="op">$</span>y)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a><span class="kw">plot</span>(Samusik_<span class="dv">01</span>_subset<span class="op">$</span>tsne,<span class="dt">pch=</span><span class="dv">16</span>,<span class="dt">cex=</span><span class="fl">0.5</span>,<span class="dt">col=</span><span class="kw">ifelse</span>(gate_vector<span class="op">==</span><span class="dv">1</span>,<span class="st">&quot;firebrick3&quot;</span>,<span class="st">&quot;lightsteelblue&quot;</span>))</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a><span class="kw">polygon</span>(pol,<span class="dt">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt />
<p class="caption">Manual selection of a cluster on a 2D t-SNE</p>
</div>
</div>
<div id="clustering" class="section level4">
<h4>Clustering</h4>
<p>Another option to define a cell cluster of interest is to use the output of a clustering algorithm. Popular options for cytometry include <em>FlowSOM</em> (available from Bioconductor) or <em>Phenograph</em> (available from the <code>cytofkit</code> package from Bioconductor). An example call for Rphenograph is below:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="kw">require</span>(Rphenograph)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">5881215</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a>clustering=<span class="kw">Rphenograph</span>(Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels])</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a>cluster_labels=<span class="kw">membership</span>(clustering[[<span class="dv">2</span>]])</span></code></pre></div>
<p>In this Vignette we use the simpler kmeans option instead:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">5881215</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a>cluster_labels=<span class="kw">kmeans</span>(Samusik_<span class="dv">01</span>_subset<span class="op">$</span>tsne,<span class="dv">20</span>,<span class="dt">nstart=</span><span class="dv">100</span>)<span class="op">$</span>cluster</span></code></pre></div>
<p>In this example we can see that the kmeans cluster <em>20</em> corresponds to the population we manually selected from the t-SNE biplot</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="kw">plot</span>(Samusik_<span class="dv">01</span>_subset<span class="op">$</span>tsne,<span class="dt">col=</span><span class="kw">ifelse</span>(cluster_labels<span class="op">==</span><span class="dv">20</span>,<span class="st">&quot;firebrick3&quot;</span>,<span class="st">&quot;lightsteelblue&quot;</span>),<span class="dt">pch=</span><span class="dv">16</span>,<span class="dt">cex=</span><span class="fl">0.5</span>)</span></code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt />
<p class="caption">Selection of a cluster from a clustering algorithm output</p>
</div>
</div>
</div>
<div id="running-hypergate" class="section level2">
<h2>Running Hypergate</h2>
<p>The function to optimize gating strategies is <code>hypergate</code>. Its main arguments are <code>xp</code> (a numeric matrix encoding expression), <code>gate_vector</code> (a vector with few unique values), <code>level</code> (specificies what value of gate_vector to gate upon, i.e. events satisfying <code>gate_vector==level</code> will be gated in)</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a>hg_output=<span class="kw">hypergate</span>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a>    <span class="dt">xp=</span>Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels],</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a>    <span class="dt">gate_vector=</span>gate_vector,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a>    <span class="dt">level=</span><span class="dv">1</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true"></a>    <span class="dt">verbose=</span><span class="ot">FALSE</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true"></a>)</span></code></pre></div>
</div>
<div id="interpreting-and-polishing-the-results" class="section level2">
<h2>Interpreting and polishing the results</h2>
<div id="gating-datapoints" class="section level3">
<h3>Gating datapoints</h3>
<p>The following function allows to subset an expression matrix given a return from <em>Hypergate</em>. The new matrix needs to have the same column names as the original matrix.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>gating_predicted=<span class="kw">subset_matrix_hg</span>(hg_output,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels])</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a><span class="kw">table</span>(<span class="kw">ifelse</span>(gating_predicted,<span class="st">&quot;Gated-in&quot;</span>,<span class="st">&quot;Gated-out&quot;</span>),<span class="kw">ifelse</span>(gate_vector<span class="op">==</span><span class="dv">1</span>,<span class="st">&quot;Events of interest&quot;</span>,<span class="st">&quot;Others&quot;</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Events of interest</th>
<th align="right">Others</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Gated-in</td>
<td align="right">116</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Gated-out</td>
<td align="right">10</td>
<td align="right">1874</td>
</tr>
</tbody>
</table>
<p>Another option, which offers more low-level control, is to examine for each datapoint whether they pass the threshold for each parameter. The function to obtain such a boolean matrix is <code>boolmat</code>. Here our gating strategy specifies <em>SiglecF+cKit-Ly6C-</em>. We would thus obtain a 3-columns x 2000 (the number of events) rows</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>bm=<span class="kw">boolmat</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a>    <span class="dt">gate=</span>hg_output,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a>    <span class="dt">xp=</span>Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels]</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true"></a><span class="kw">head</span>(bm)</span></code></pre></div>
<pre><code>##     SiglecF_min cKit_max Ly6C_max
## 20        FALSE     TRUE     TRUE
## 28        FALSE     TRUE     TRUE
## 70        FALSE    FALSE     TRUE
## 110        TRUE    FALSE    FALSE
## 120       FALSE     TRUE    FALSE
## 159       FALSE     TRUE    FALSE</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Events of interest</th>
<th align="right">Others</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Gated-out because of SiglecF</td>
<td align="right">9</td>
<td align="right">1829</td>
</tr>
<tr class="even">
<td align="left">SiglecF above threshold</td>
<td align="right">117</td>
<td align="right">45</td>
</tr>
</tbody>
</table>
</div>
<div id="examining-the-output" class="section level3">
<h3>Examining the output</h3>
<p>The following function will plot the output of Hypergate. Arguments are</p>
<ol style="list-style-type: decimal">
<li><p><code>gate</code> an object returned by Hypergate</p></li>
<li><p><code>xp</code> an expression matrix whose columns are named similarly as the ones used to create the <code>gate</code> object</p></li>
<li><p><code>gate_vector</code> and <code>level</code> to specify which events are “of interest”</p></li>
<li><p><code>highlight</code> a color that will be used to highlight the events of interest</p></li>
</ol>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a><span class="kw">plot_gating_strategy</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a>    <span class="dt">gate=</span>hg_output,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a>    <span class="dt">xp=</span>Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels],</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a>    <span class="dt">gate_vector=</span>gate_vector,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a>    <span class="dt">level=</span><span class="dv">1</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true"></a>    <span class="dt">highlight=</span><span class="st">&quot;firebrick3&quot;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true"></a>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" alt="Gating strategy" /><img src="data:image/png;base64,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" alt="Gating strategy" /></p>
<p>Another important point to consider is how the F<span class="math inline">\(\beta\)</span>-score increases with each added channel. This gives an idea of how many channels are required to reach a close-to-optimal gating strategy.</p>
<p>This will identify at which steps the parameters were first activated and optimized:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>f_values_vs_number_of_parameters=<span class="kw">c</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a>    <span class="kw">F_beta</span>(<span class="kw">rep</span>(<span class="ot">TRUE</span>,<span class="kw">nrow</span>(Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src)),gate_vector<span class="op">==</span><span class="dv">1</span>),</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a>    hg_output<span class="op">$</span>f[<span class="kw">c</span>(<span class="kw">apply</span>(hg_output<span class="op">$</span>pars.history[,hg_output<span class="op">$</span>active_channels],<span class="dv">2</span>,<span class="cf">function</span>(x)<span class="kw">min</span>(<span class="kw">which</span>(x<span class="op">!=</span>x[<span class="dv">1</span>])))<span class="op">-</span><span class="dv">1</span>,<span class="kw">nrow</span>(hg_output<span class="op">$</span>pars.history))][<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a><span class="kw">barplot</span>(<span class="kw">rev</span>(f_values_vs_number_of_parameters),<span class="dt">names.arg=</span><span class="kw">rev</span>(<span class="kw">c</span>(<span class="st">&quot;Initialization&quot;</span>,<span class="kw">paste</span>(<span class="st">&quot;+ &quot;</span>,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>,hg_output<span class="op">$</span>active_channels))),<span class="dt">las=</span><span class="dv">3</span>,<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="dt">horiz=</span><span class="ot">TRUE</span>,<span class="dt">xlab=</span><span class="st">&quot;Cumulative F1-score&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt />
<p class="caption">F1-score obtained during optimization when adding parameters</p>
</div>
<p>This graph tells us that the biggest increase is by far due to SiglecF+, while the lowest is due to Ly6C-.</p>
</div>
<div id="channels-contributions" class="section level3">
<h3>Channels contributions</h3>
<p>The previous graph only shows how the F-value evolved during optimization, but what we really want to know is how much each parameter contributes to the final output (sometimes a parameter will have a big impact at the early steps of the optimization but will become relatively unimportant towards the end, if multiple other parameters collectively account for most of its discriminatory power). We use the following function to assess this, which measures how much performances lower when a parameter is ignored. The more the performances lower, the more important the parameter is.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a>contributions=<span class="kw">channels_contributions</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a>    <span class="dt">gate=</span>hg_output,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a>    <span class="dt">xp=</span>Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels],</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a>    <span class="dt">gate_vector=</span>gate_vector,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a>    <span class="dt">level=</span><span class="dv">1</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true"></a>    <span class="dt">beta=</span><span class="dv">1</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true"></a>)       </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true"></a><span class="kw">barplot</span>(contributions,<span class="dt">las=</span><span class="dv">3</span>,<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>),<span class="dt">horiz=</span><span class="ot">TRUE</span>,<span class="dt">xlab=</span><span class="st">&quot;F1-score deterioration when the parameter is ignored&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt />
<p class="caption">Contribution of each parameter to the output</p>
</div>
</div>
<div id="reoptimize-strategy" class="section level3">
<h3>Reoptimize strategy</h3>
<p>Since Ly6C contributes very little, we may want to ignore it to obtain a shorter gating strategy. We could keep the current threshold values for the other parameters, but it is best to re-compute the other thresholds to account for the loss of some parameters. To do that we use the following function:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a>hg_output_polished=<span class="kw">reoptimize_strategy</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a>    <span class="dt">gate=</span>hg_output,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a>    <span class="dt">channels_subset=</span><span class="kw">c</span>(<span class="st">&quot;SiglecF_min&quot;</span>,<span class="st">&quot;cKit_max&quot;</span>),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true"></a>    <span class="dt">xp=</span>Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels],</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true"></a>    <span class="dt">gate_vector=</span>gate_vector,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true"></a>    <span class="dt">level=</span><span class="dv">1</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true"></a>)</span></code></pre></div>
<p>Finally, we get to plot our final strategy:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a><span class="kw">plot_gating_strategy</span>(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a>    <span class="dt">gate=</span>hg_output_polished,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a>    <span class="dt">xp=</span>Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels],</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true"></a>    <span class="dt">gate_vector=</span>gate_vector,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true"></a>    <span class="dt">level=</span><span class="dv">1</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true"></a>    <span class="dt">highlight=</span><span class="st">&quot;firebrick3&quot;</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true"></a>)</span></code></pre></div>
<div class="figure">
<img src="data:image/png;base64,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" alt />
<p class="caption">Final output</p>
</div>
</div>
<div id="human-readable-output" class="section level3">
<h3>Human-readable output</h3>
<p>Thanks to a nice contribution for SamGG on github, there are three functions that make the outputs more readable:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a><span class="kw">hgate_pheno</span>(hg_output)</span></code></pre></div>
<pre><code>## [1] &quot;SiglecF+, cKit-, Ly6C-&quot;</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a><span class="kw">hgate_rule</span>(hg_output)</span></code></pre></div>
<pre><code>## [1] &quot;SiglecF &gt;= 2.21, cKit &lt;= 1.77, Ly6C &lt;= 2.98&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a><span class="kw">hgate_info</span>(hg_output)</span></code></pre></div>
<pre><code>##             channels sign comp threshold
## SiglecF_min  SiglecF    +  &gt;=   2.208221
## cKit_max        cKit    -  &lt;=   1.770901
## Ly6C_max        Ly6C    -  &lt;=   2.983523</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a><span class="co"># Fscores can be retrieved when the same parameters given to hypergate() are given to hgate_info():</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true"></a>hg_out_info =<span class="st"> </span><span class="kw">hgate_info</span>(hg_output,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true"></a>    <span class="dt">xp=</span>Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels],</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true"></a>    <span class="dt">gate_vector=</span>gate_vector,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true"></a>    <span class="dt">level=</span><span class="dv">1</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true"></a>hg_out_info</span></code></pre></div>
<pre><code>##             channels sign comp threshold     deltaF Fscore1D Fscore
## SiglecF_min  SiglecF    +  &gt;=   2.208221 0.76351765   0.8125 0.8125
## cKit_max        cKit    -  &lt;=   1.770901 0.07988981   0.1294 0.9360
## Ly6C_max        Ly6C    -  &lt;=   2.983523 0.02267769   0.1809 0.9587</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a><span class="co"># and formatted readily</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true"></a><span class="kw">paste0</span>(hg_out_info[,<span class="st">&quot;Fscore&quot;</span>], <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;0.8125, 0.936, 0.9587&quot;</code></pre>
</div>
</div>
<div id="final-notes" class="section level2">
<h2>Final notes</h2>
<p>Some comments about potential questions on your own projects (raised by QBarbier):</p>
<div id="which-channels-to-use-as-input" class="section level3">
<h3>Which channels to use as input?</h3>
<p>Anything that would be relevant for a gating strategy should be used as an input. So usually any phenotypic channel would be included. If you know that you would not use certain parameters on subsequent experiments (for instance if the staining is intracellular and you plan to sort a live population and thus cannot permeabilize your cells), you should exclude the corresponding channels. I usually do not use channels that were used in pre-gating steps (e.g. CD45 for immune cells). Finally, if you plan to use flow cytometry and use hypergate on a CyTOF dataset, you probably want to discard the Cell_length channel.</p>
</div>
<div id="how-big-can-the-input-matrix-be" class="section level3">
<h3>How big can the input matrix be?</h3>
<p>It depends on how much RAM your computer has. If that is an issue I suggest downsampling to (e.g.) 1000 positive cells and a corresponding number of negative cells. The <code>hgate_sample</code> function can help you achieve this:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">123</span>) <span class="co">## Makes the subsampling reproducible</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true"></a>gate_vector=Samusik_<span class="dv">01</span>_subset<span class="op">$</span>labels</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true"></a>subsample=<span class="kw">hgate_sample</span>(<span class="dt">gate_vector=</span>gate_vector,<span class="dt">level=</span><span class="dv">5</span>,<span class="dt">size=</span><span class="dv">100</span>) <span class="co">## Subsample 100 events from population #5 (Classical monocytes), and a corresponding number of negative events</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true"></a>tab=<span class="kw">table</span>(<span class="kw">ifelse</span>(subsample,<span class="st">&quot;In&quot;</span>,<span class="st">&quot;Out&quot;</span>),<span class="kw">ifelse</span>(Samusik_<span class="dv">01</span>_subset<span class="op">$</span>labels<span class="op">==</span><span class="dv">5</span>,<span class="st">&quot;Positive pop.&quot;</span>,<span class="st">&quot;Negative pop.&quot;</span>))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true"></a>tab[<span class="dv">1</span>,]<span class="op">/</span><span class="kw">colSums</span>(tab) <span class="co">## Fraction of subsampled events for positive and negative populations</span></span></code></pre></div>
<pre><code>## Negative pop. Positive pop. 
##     0.3204976     0.3205128</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true"></a>xp=Samusik_<span class="dv">01</span>_subset<span class="op">$</span>xp_src[,Samusik_<span class="dv">01</span>_subset<span class="op">$</span>regular_channels]</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true"></a>hg=<span class="kw">hypergate</span>(<span class="dt">xp=</span>xp[subsample,],<span class="dt">gate_vector=</span>gate_vector[subsample],<span class="dt">level=</span><span class="dv">5</span>) <span class="co">## Runs hypergate on a subsample of the input matrix</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true"></a>gating_heldout=<span class="kw">subset_matrix_hg</span>(hg,xp[<span class="op">!</span>subsample,]) <span class="co">## Applies the gate to the held-out data</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true"></a><span class="kw">table</span>(<span class="kw">ifelse</span>(gating_heldout,<span class="st">&quot;Gated in&quot;</span>,<span class="st">&quot;Gated out&quot;</span>),<span class="kw">ifelse</span>(Samusik_<span class="dv">01</span>_subset<span class="op">$</span>labels[<span class="op">!</span>subsample]<span class="op">==</span><span class="dv">5</span>,<span class="st">&quot;Positive pop.&quot;</span>,<span class="st">&quot;Negative pop.&quot;</span>))</span></code></pre></div>
<pre><code>##            
##             Negative pop. Positive pop.
##   Gated in             15           137
##   Gated out          1132            75</code></pre>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
